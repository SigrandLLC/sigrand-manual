<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Dynamic interfaces</title><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="SG-17R User Manual"><link rel="up" href="ch07.html" title="Chapter 7. Network interfaces adjustment"><link rel="prev" href="ch07.html" title="Chapter 7. Network interfaces adjustment"><link rel="next" href="ch08.html" title="Chapter 8. Traffic control"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Dynamic interfaces</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch07.html">Prev</a> </td><th width="60%" align="center">Chapter 7. Network interfaces adjustment</th><td width="20%" align="right"> <a accesskey="n" href="ch08.html">Next</a></td></tr></table><hr></div><div class="section" title="Dynamic interfaces"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ifaces"></a>Dynamic interfaces</h2></div></div></div><div class="section" title="Work with dynamic interfaces"><div class="titlepage"><div><div><h3 class="title"><a name="id428115"></a>Work with dynamic interfaces</h3></div></div></div><p>Dynamic interfaces managenets is carried out on page
        Network/Dynamic interfaces/Manage.</p><div class="figure"><a name="id428125"></a><p class="title"><b>Figure 7.11. Dynamic interfaces</b></p><div class="figure-contents"><div><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="540"><tr><td><img src="img/wf2-iface-dynamic.png" width="540" alt="Dynamic interfaces"></td></tr></table></div></div></div><br class="figure-break"><p>there exist the following types of the dynamic
        interfaces:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><span class="emphasis"><em>Bridge</em></span> — traffic transfer between
            interfaces at the second level;</p></li><li class="listitem"><p><span class="emphasis"><em>Bonding</em></span> — increase of the connection
            capacity and reliability by means of using several
            interfaces;</p></li><li class="listitem"><p><span class="emphasis"><em>VLAN</em></span> — interface of virtual networks:
            traffic isolation within the communication environment.</p></li></ul></div><p>To create a new dynamic interface select its type and click
        <span class="emphasis"><em>Add</em></span>. The added dynamic interface will be
        displayed in the list of network interfaces:</p><div class="figure"><a name="id428185"></a><p class="title"><b>Figure 7.12. Dynamic interface in the list of the network
          interfaces</b></p><div class="figure-contents"><div><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="180"><tr><td><img src="img/wf2-ifaces-dynamic-added.png" width="180" alt="Dynamic interface in the list of the network interfaces"></td></tr></table></div></div></div><br class="figure-break"><p><a name="ifaces.del"></a>To delete the dynamic interface select its name
        in the list of interfaces and click
        <span class="emphasis"><em>Delete</em></span>.</p></div><div class="section" title="Settings of bonding"><div class="titlepage"><div><div><h3 class="title"><a name="bonding"></a>Settings of bonding</h3></div></div></div><p>Bonding allows to band several physical connections into the
        logical one (by creating a dynamic interface -
        <span class="emphasis"><em>bond</em></span>). For example, two SHDSL-channels can be
        banded into one, expanding the capacity and reliability of the
        connection.</p><div class="important" title="Important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>In Bonding mode only ethernet-compatible interfaces can be
          banded. The Ethernet-compatible interfaces in the device are:
          Ethernet,SHDSL, E1 in ETHER-HDLC mode, and the interfaces of
          bonding, bridging, VLAN.</p></div><p>The dynamic interface of the bonding is created on page
        Network/Dynamic interfaces/Manage, where <span class="emphasis"><em>the section Add
        dynamic network interface</em></span> the user should select "Bonding"
        and click <span class="emphasis"><em>Add</em></span>.</p><p>After the interface is added, its name will be displayed in the
        menu Network/Dynamic interfaces/bond* (see the figure in the previous
        chapter). Besides, a window of the interface quick settings will be
        opened, where the user should set all the parameters necessary for
        interface launching:</p><div class="figure"><a name="id428252"></a><p class="title"><b>Figure 7.13. Bonding quick settings window</b></p><div class="figure-contents"><div><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="540"><tr><td><img src="img/wf2-iface-bonding-wizard.png" width="540" alt="Bonding quick settings window"></td></tr></table></div></div></div><br class="figure-break"><p>In this window all the parameters, except one, were described in
        the previous chapter. The new parameter - <span class="emphasis"><em>Bonding
        interfaces</em></span> - contains the interfaces enumerated with
        spacing which form the bonding.</p><div class="important" title="Important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>Physical interface can be added only to
          <span class="emphasis"><em>one</em></span> interface of the bonding! For example, the
          interfaces bond0 (eth0, dsl0) and bond1 (eth1, dsl0) cannot be
          created because the dsl0 can be added only to one interface of the
          bonding. To break this limit use VLAN technology (see the relevant
          chapter with examples of use).</p></div><p>After the settings are saved, the interfaces, forming a bonding,
        will be adjusted automatically: for them <span class="emphasis"><em>enabled=1
        auto=0</em></span> is set. The IP-addresses of the existing interfaces,
        if they were set, will be reseted. One MAC-address corresponding to
        the MAC-address of one of the physical interfaces will be allocated to
        all the interfaces (dynamic and physical within it).</p><p>The settings can be altered on the interface adjustment page, in
        the tab General.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>The same settings should be made on the second router.</p></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>When one of the physical connections is broken, traffic will
          be transferred via the remained connection.</p></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>If you adjust several bondings, restart the device after
          setting. It is related to the fact that after the launching of the
          first bonding-interface, launching of new bonding-interfaces will be
          possible only after the restart.</p></div></div><div class="section" title="Bridging settings"><div class="titlepage"><div><div><h3 class="title"><a name="bridge"></a>Bridging settings</h3></div></div></div><p>The operation of the device in bridging mode allows to transfer
        traffic between the interfaces transparently, simulating the function
        of a switch. For this purpose a special network dynamic interface with
        the name "<span class="emphasis"><em>br"</em></span> is created, with which the network
        interfaces meant for traffic exchange are associated.</p><div class="important" title="Important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>In Bridge mode only ethernet-compatible interfaces are
          supported. The Ethernet-compatible interfaces in the device are:
          Ethernet,SHDSL, E1 in ETHER-HDLC mode, and the interfaces of
          bonding, bridging, VLAN.</p></div><div class="figure"><a name="id428350"></a><p class="title"><b>Figure 7.14. Example of bridging</b></p><div class="figure-contents"><div><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="540"><tr><td><img src="img/bridge.png" width="540" alt="Example of bridging"></td></tr></table></div></div></div><br class="figure-break"><p>In the figure above the bridge is formed by two interfaces —
        Ethernet-interface eth0 and SHDSL-interface dsl0 — and joins PC1 and
        PC2 into a single network.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>It should be noted that the router operating in bridge mode
          and networks between which it transfers traffic do not need to be
          located in the same address space as it is required when traffic
          routing is being set.</p><p>Moreover, such router cannot have an IP-address. However, if
          the router management is needed, it is necessary to set an
          IP-address from the same network with the computer on which the
          management of the router will be performed. In our example the
          routers can have the following IP-addresses: 192.168.90.10 and
          192.168.90.11.</p></div><p>The following figure shows a network analogous to the previous
        one, but with bonding that allows to expand the network capacity. In
        this case bridge is formed by the Ethernet-interface eth0 and bonded
        SHDSL-interfaces dsl0 and dsl1 into a single interface bond0:</p><div class="figure"><a name="id428392"></a><p class="title"><b>Figure 7.15. Example of a bridge with bonding</b></p><div class="figure-contents"><div><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="540"><tr><td><img src="img/bridge+bonding.png" width="540" alt="Example of a bridge with bonding"></td></tr></table></div></div></div><br class="figure-break"><p>Creation of a dynamic interface of a bridge is performed on page
        Network/Dynamic interfaces/Manage, where "Bridge" should be selected
        as a protocol.</p><p>After the interface is added, its name will be displayed in the
        menu Network/Dynamic interfaces/br*. Besides, a window of the
        interface quick settings will be opened, where the user can set all
        the parameters necessary for interface launching:</p><div class="figure"><a name="id428417"></a><p class="title"><b>Figure 7.16. Bridge quick settings window</b></p><div class="figure-contents"><div><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="540"><tr><td><img src="img/wf2-iface-bridge-wizard.png" width="540" alt="Bridge quick settings window"></td></tr></table></div></div></div><br class="figure-break"><p>In this window all the parameters, except one, were described in
        the previous chapter. The new parameter - <span class="emphasis"><em>Bridge
        interfaces</em></span> - contains the interfaces enumerated with
        spacing which form the bridge.</p><div class="important" title="Important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>Physical interface can be added only to
          <span class="emphasis"><em>one</em></span> interface of the bridge! For example, the
          interfaces br0 (eth0, dsl0) and br1 (eth1, dsl0) cannot be created
          because the dsl0 can be added only to one interface of the bridge.
          To break this limit use VLAN technology (see the relevant chapter
          with examples of use)</p></div><p>After the settings are saved, the interfaces, forming a bonding,
        will be adjusted automatically: for them <span class="emphasis"><em>enabled=1
        auto=0</em></span> is set. The IP-addresses of the existing interfaces,
        if they were set, will be reseted.</p><p>The settings can be altered on the interface adjustment page, in
        the tab General.</p><div class="important" title="Important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>Launching of <span class="emphasis"><em>br*</em></span> interface leads to reset
          of the IP-addresses of the physical interfaces which form the
          bridge. Therefore, if the setting is made via a physical interface
          which is a part of the bridge, the management of routers can be
          lost. To avoid this set an IP-address to the dynamic interface
          <span class="emphasis"><em>br*</em></span>.</p></div><p>The same procedure should be executed on the second device, and
        in a couple of minutes, during which the bridge recognizes the network
        topology and conduct a short procedure of self-learning, the
        packet-mode communication between the interfaces will begin.</p><p>Additional settings can be made for the bridge, which are
        available on page Network/Dynamic interfaces/br*, tab Specific:</p><div class="figure"><a name="id428490"></a><p class="title"><b>Figure 7.17. Additional parameters of bridge</b></p><div class="figure-contents"><div><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="540"><tr><td><img src="img/wf2-iface-bridge-specific.png" width="540" alt="Additional parameters of bridge"></td></tr></table></div></div></div><br class="figure-break"><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><span class="emphasis"><em>STP enabled</em></span> — enable Spanning Tree
            Protocol. The main target of the STP is to bring the Ethernet
            topology with its numerous interrelations to a state of a
            tree-type typology, eliminating the packet cycles. Is is performed
            by means of automatic blocking of redundant ports.</p></li><li class="listitem"><p><span class="emphasis"><em>Interfaces</em></span> — interfaces forming the
            bridge.</p></li><li class="listitem"><p><span class="emphasis"><em>Priority</em></span> — priority of the bridge, the
            less is the value, the higher is the priority. Used in STP.</p></li><li class="listitem"><p><span class="emphasis"><em>Forward delay</em></span> — time which the bridge
            spends inListening and Learning modes before switching to
            Forwarding mode (working mode). In seconds. Used in STP.</p></li><li class="listitem"><p><span class="emphasis"><em>Hello time</em></span> — time intervals between the
            sending of packets about the network topology. In seconds. Used in
            STP.</p></li><li class="listitem"><p><span class="emphasis"><em>Max age</em></span> — if the hello packet does not
            come from the bridge after a <span class="emphasis"><em>max age</em></span>, bridge
            is considered broken. In this case routes reconfiguration is
            possible. In seconds. Used in STP.</p></li></ul></div></div><div class="section" title="VLAN interfaces settings"><div class="titlepage"><div><div><h3 class="title"><a name="vlan"></a>VLAN interfaces settings</h3></div></div></div><p>The use of VLAN allows to divide traffic within a single
        communication environment. For this purpose in each Ethernet-slide a
        headline allocating the slide to this or that VLAN is added. Each VLAN
        is identified with its own number — <span class="emphasis"><em>VLAN ID</em></span>,
        within the range from 0 to 4094. For work with VLAN networks a virtual
        interface VLAN is created on the base of a physical interface, having
        a certain VLAN ID.</p><p>In order to create a VLAN interface, it is necessary to create a
        dynamic interface VLAN at page Network/Dynamic interfaces/Manage. For
        this purpose select the VLAN protocol, after which two parameters will
        be available:</p><div class="figure"><a name="id428604"></a><p class="title"><b>Figure 7.18. Adding a VLAN interface</b></p><div class="figure-contents"><div><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="540"><tr><td><img src="img/wf2-iface-vlan.png" width="540" alt="Adding a VLAN interface"></td></tr></table></div></div></div><br class="figure-break"><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><span class="emphasis"><em>Physical interface</em></span> — physical interface
            on which basis the VLAN interface is created.</p></li><li class="listitem"><p><span class="emphasis"><em>VLAN ID</em></span> — VLAN number.</p></li></ul></div><div class="tip" title="Tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3><p>VLAN interface may operate on physical interfaces (SHDSL,
          Ethernet), and on dynamic ones (Bonding, Bridge).</p></div><p>After the VLAN interface is added, it will be displayed in the
        list of interfaces as "InterfaceXvN", where InrefaceX — the name of
        the interface, N — VLAN number. For example, if the VLAN interface is
        created for the interface bond0 and VLAN ID 4, the name of the VLAN
        interface will be <span class="emphasis"><em>bond0v4</em></span>. In the system the
        interface is desplayed as <span class="emphasis"><em>bond0.4</em></span>.</p><p>Now standard actions can be applied to the interface: set an
        IP-address, add it to bonding, bridge etc.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch07.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch07.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch08.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 7. Network interfaces adjustment </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 8. Traffic control</td></tr></table></div></body></html>
