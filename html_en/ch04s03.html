<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Router firmware renewal</title><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="SG-17R User Manual"><link rel="up" href="ch04.html" title="Chapter 4. Start of Work with Router"><link rel="prev" href="ch04s02.html" title="Loader"><link rel="next" href="ch04s04.html" title="Expert mode"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Router firmware renewal</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch04s02.html">Prev</a> </td><th width="60%" align="center">Chapter 4. Start of Work with Router</th><td width="20%" align="right"> <a accesskey="n" href="ch04s04.html">Next</a></td></tr></table><hr></div><div class="section" title="Router firmware renewal"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="update"></a>Router firmware renewal</h2></div></div></div><div class="important" title="Important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>Save the configuration (see <a class="link" href="ch05s09.html" title="Configuration upload and failback">Configuration upload and failback</a>) since the firmware renewal will initialize all
        the settings and reset all the MAC-addresses (see Chapter <a class="link" href="ch04s05.html" title="MAC-addresses of network interfaces">MAC-addresses of network
      interfaces</a>) set by the
        manufacturer.</p></div><p>Firmware renewal is carried out via console interface RS-232. For
      the renewal you will need the following:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>A computer with serial interface port RS-232 (or with USB
          cable adapter -&gt; RS232).</p></li><li class="listitem"><p>TFTP-server, accessible via router.</p></li></ul></div><p>For firmware renewal it is important to have a TFTP-server
      accessible via router where firmware image file is located.</p><p>If a local TFTP-server is used, it is necessary to copy the
      firmware file, which can be downloaded from <a class="ulink" href="http://www.sigrand.ru" target="_top">www.sigrand.ru</a>, to its (TFTP-server)
      root directory after adjustment. You can find the recent version of the
      firmware at: <a class="ulink" href="http://sigrand.ru:8280/downloads/firmware_sg17-r-cp1/" target="_top">http://sigrand.ru:8280/downloads/firmware_sg17-r-cp1/</a>
      .</p><p>The process of preparation of the router to be managed via console
      interface is described in Chapter <a class="link" href="ch04.html#firstboot" title="Getting ready for the first switch-on">Getting ready for the first
      switch-on</a>. Switch the router on after running of the
      terminal emulator program and setting parameters of the port. The
      information about the router and an offer to enter the loader menu will
      be displayed in the program window (see Chapter <a class="link" href="ch04s02.html" title="Loader">Getting ready for the first
      switch-on</a>).</p><p>A configuration example is given below:</p><pre class="screen">

Parameters Menu
=====================================
 [P] Pre-defined parameters menu
 [M] Local MAC address: 00-FF-0F-22-32-11
 [I] Local IP  address: 192.168.2.100
 [T] TFTP server IP address: 192.168.2.1
 [G] TFTP server gateway address: 0.0.0.0
 [B] Bootloader file name: sg5120boot_rom.bin
 [S] OS file name: sg.bin
 [E] Expert mode: Off
 [X] Save parameters and exit menu
Enter your option:</pre><p>In the given example only the IP address of the router was
      changed, all other settings are left unchanged.</p><p>After the adjustment of network settings, choose Update OS menu
      item for system update.</p><pre class="screen">
Enter your option:s
Starting the TFTP download(ESC to stop) ..........................................................
..................................................................................................
.............................................................. PASS

Eraseing flash ...................................................................................
..................................................................................................
..................................................................................................
.............................................................. PASS
Programming flash ................................................................................
..................................................................................................
.............................................................. PASS


</pre><p>PASS, corresponding with the lines "Eraseing flash" and
      "Programming flash" means that the updating was completed successfully.
      FAIL indicates that there exist some problem, usually they are:incorrect
      IP-address of the TFTP-server (the router and the TFTP-server are
      located in different networks) or incorrect file name on server. To
      start a new firmware updating process, it is necessary to reset the
      router by puching the 'R' key in top-level menu, or by switching the
      power on and off.</p><p>After the router loading is completed (in case of normal loading,
      it is not necessary to enter the loader menu; you should wait until
      timer runs out operating system loading begins), you can move forward to
      the adjustment via web-interface. The access to the console is not
      needed anymore, the cable can be disconnected and relevant
      <acronym class="acronym">software</acronym> closed.</p><p>In case the following statement is displayed:</p><pre class="screen">Starting the TFTP download(ESC to stop) ... FAIL</pre><p>— it means that the loader failed to download the firmware file
      from the indicated TFTP-server. In this case check if the IP address of
      the TFTP-server and firmware file name are correct. If they are correct,
      check the settings in "Set Parameters". Another option is to chenge of
      MAC-address and checking whether the TFTP server is blocking the
      connection to the router.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch04s02.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch04.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch04s04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Loader </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Expert mode</td></tr></table></div></body></html>
